(function(e){function t(t){for(var o,s,r=t[0],a=t[1],c=t[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(u,s)&&u[s]&&p.push(u[s][0]),u[s]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var a=n[r];0!==u[a]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},u={app:0},i=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/digitopia-slider/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var l=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("85ec")},"45ec":function(e,t,n){},"5a55":function(e,t,n){"use strict";n("45ec")},"7d69":function(e,t,n){},8149:function(e,t,n){"use strict";n("f111")},"85ec":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Home",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",[e._v("Value Stream Comparative Analysis")]),n("div",{attrs:{id:"div-budget"}},[n("div",{staticClass:"flex-grid"},[n("div",{staticClass:"flex-grid-item large"},[n("b-input-group",{staticClass:"mt-3",attrs:{prepend:"Budget ($)",append:"million"}},[n("b-form-input",{model:{value:e.budget,callback:function(t){e.budget=t},expression:"budget"}},[e._v(" "+e._s(this.budget))])],1)],1),n("div",{staticClass:"flex-grid-item small"},[n("b-input-group",{staticClass:"mt-3",attrs:{id:"totalSpent",prepend:"Total spent ($)",append:"million"}},[n("b-form-input",{attrs:{readonly:""},model:{value:e.totalSpent,callback:function(t){e.totalSpent=t},expression:"totalSpent"}})],1)],1),n("div",{staticClass:"flex-grid-item tiny"},[n("b-form-checkbox",{attrs:{id:"checkbox-freeze-spending",name:"checkbox-freeze-spending",value:"frozen","unchecked-value":"not_frozen"},model:{value:e.freezeSpending,callback:function(t){e.freezeSpending=t},expression:"freezeSpending"}},[e._v(" Freeze spending ")])],1),n("div",{staticClass:"flex-grid-item tiny"},[n("b-form-checkbox",{attrs:{id:"checkbox-analysis",name:"checkbox-analysis",value:"analysis","unchecked-value":"no_analysis"},on:{change:function(t){return e.setAnalysis()}},model:{value:e.showAnalysis,callback:function(t){e.showAnalysis=t},expression:"showAnalysis"}},[e._v(" Analysis ")])],1),n("div",{staticClass:"flex-grid-item tiny"},[n("b-form-checkbox",{attrs:{id:"checkbox-depts",name:"checkbox-depts",value:"show_depts","unchecked-value":"hide_depts"},on:{change:function(t){return e.setShowDepartments()}},model:{value:e.showDepts,callback:function(t){e.showDepts=t},expression:"showDepts"}},[e._v(" Show Departments ")])],1)]),e._l(this.outcomes,(function(t,o){return n("budget-slider",{key:t.key,ref:"slider",refInFor:!0,attrs:{budget:e.budget,outcomeProp:t,index:o,totalOutcomes:e.outcomes.length},on:{"compute-budget":e.computeBudget,"computed-outcome":e.computedOutcome,"adjust-sub-budgets":e.adjustSubBudgets}})}))],2)])},r=[],a=(n("4160"),n("d81d"),n("b680"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("h2",[e._v(e._s(e.title))]),n("b-form-group",[n("b-input-group",[n("b-input-group-prepend",{staticClass:"text-monospace",attrs:{"is-text":""}},[e._v(" Funding ")]),n("b-form-input",{attrs:{id:"bg-opacity",value:e.computedOutcomeBudget,type:"range",number:"",min:"0",max:e.budget,step:"0.01"},on:{change:function(t){return e.computeBudget(e.outcomeBudget,t)}}}),n("b-input-group-append",{staticClass:"text-monospace",attrs:{"is-text":""}},[e._v(" "+e._s(e.computedOutcomeBudget)+" million ")])],1),n("div",{staticClass:"flex-grid"},[n("div",{staticClass:"flex-grid-item half"},[e.showAnalysis?n("b-input-group",{attrs:{prepend:"Improved by",append:"%"}},[n("b-form-input",{attrs:{readonly:""},model:{value:e.computeOutcome,callback:function(t){e.computeOutcome=t},expression:"computeOutcome"}})],1):e._e()],1),n("div",{staticClass:"flex-grid-item half"},[e.showAnalysis?n("b-input-group",{attrs:{prepend:"Rate of change"}},[n("b-form-input",{attrs:{readonly:""},model:{value:e.rateOfChange,callback:function(t){e.rateOfChange=t},expression:"rateOfChange"}})],1):e._e()],1)]),e._l(this.subOutcomes,(function(t,o){return n("sub-budget-slider",{key:t.key,ref:"subslider",refInFor:!0,attrs:{suboutcomeProp:t,outcomeFunding:e.outcomeBudget,oneOf:e.subOutcomes.length,index:o},on:{"compute-sub-budgets":e.computeSubBudgets}})}))],2)],1)])}),c=[],l=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("b-input-group",{attrs:{id:"sub-slider-input-group"}},[n("b-input-group-prepend",{staticClass:"subgroup-title",attrs:{"is-text":""}},[e._v(" Funding stream to: "+e._s(e.title)+" ")]),n("b-form-input",{staticClass:"subgroup-slider",attrs:{id:"bg-opacity",value:e.computeSubOutcomeFunding,type:"range",number:"",min:"0",max:e.outcomeFunding,step:"0.01"},on:{change:function(t){return e.computeSubBudgets(e.subOutcomeFunding,t)}}}),n("b-input-group-append",{staticClass:"text-monospace",attrs:{"is-text":""}},[e._v(" "+e._s(e.computeSubOutcomeFunding)+" million ")])],1)],1),e.showDepts?n("div",{staticClass:"row"},[n("b-list-group",{staticClass:"dept-list"},[e._v(" Departments: "),e._l(this.depts,(function(t,o){return n("b-list-group-item",{key:o,staticClass:"dept-list-item"},[e._v(" "+e._s(t)+", ")])}))],2)],1):e._e()])}),d=[],p={name:"SubBudgetSlider",props:{outcomeFunding:Number,oneOf:Number,index:Number,suboutcomeProp:{title:String,key:String,subOutcomeFunding:void 0|Number,parent:String,depts:Array}},data:function(){return{title:this.suboutcomeProp.title,parent:this.suboutcomeProp.parent,depts:this.suboutcomeProp.depts,subOutcomeFunding:this.suboutcomeProp.subOutcomeFunding,showDepts:!1}},computed:{computeSubOutcomeFunding:function(){return this.subOutcomeFunding?parseFloat(this.subOutcomeFunding).toFixed(2):0}},methods:{computeSubBudgets:function(e,t){t=parseFloat(t);var n={oldOutcomeFunding:e,newOutcomeFunding:t,sourceOutcome:this.parent,index:this.index,difference:t-e};this.$emit("compute-sub-budgets",n)},setShowDepts:function(e){this.showDepts=e}},mounted:function(){}},m=p,f=(n("5a55"),n("2877")),h=Object(f["a"])(m,l,d,!1,null,"abf1b0f2",null),g=h.exports,b={name:"BudgetSlider",components:{SubBudgetSlider:g},props:{budget:Number,index:Number,totalOutcomes:Number,outcomeProp:{title:String,outcomeBudget:Number,verticalScaleValue:Number,horizontalScaleValue:Number,computedOutcome:null|Number,key:Number,subOutcomes:{title:String,key:String,subOutcomeFunding:void 0|Number,parent:String,depts:Array}}},data:function(){return{title:this.outcomeProp.title,outcomeBudget:this.outcomeProp.outcomeBudget,vs:this.outcomeProp.verticalScaleValue,hs:this.outcomeProp.horizontalScaleValue,showAnalysis:!1,outcome:this.outcomeProp,subOutcomes:this.outcomeProp.subOutcomes,depts:this.outcomeProp.subOutcomes.depts}},methods:{tanh:function(){var e=this.outcomeBudget,t=this.vs,n=this.hs,o=n*(this.tanhNumerator(e,t)/this.tanhDenominator(e,t));return o},tanhNumerator:function(e,t){return Math.exp(t*e)-1},tanhDenominator:function(e,t){return Math.exp(t*e)+1},tanhPrime:function(){var e=this.outcomeBudget,t=this.vs,n=this.hs,o=t*Math.exp(t*e),u=o*this.tanhDenominator(e,t)-this.tanhNumerator(e,t)*o,i=Math.pow(this.tanhDenominator(e,t),2);return n*(u/i)},computeBudget:function(e,t){var n={newOutcomeFunding:t,index:this.index};this.$emit("compute-budget",n)},setAnalysis:function(e){this.showAnalysis=e},setShowDepts:function(e){this.$refs.subslider.forEach((function(t){t.setShowDepts(e)}))},computeSubBudgets:function(e){e.adjustedSuboutcome=this.subOutcomes[e.index],this.$emit("adjust-sub-budgets",e)}},computed:{computeOutcome:function(){var e={computedOutcome:this.tanh(),index:this.index};return this.$emit("computed-outcome",e),(100*e.computedOutcome).toFixed(2)},rateOfChange:function(){return this.tanhPrime()},computedOutcomeBudget:function(){return parseFloat(this.outcomeBudget).toFixed(2)}},mounted:function(){this.outcomeProp.outcomeBudget||(this.outcomeBudget=this.budget/this.totalOutcomes)},updated:function(){var e=this;this.subOutcomes.map((function(t){t.subOutcomeFunding||(t.subOutcomeFunding=parseFloat(e.$props.outcomeProp.outcomeBudget/e.subOutcomes.length),t.key+=1)}))}},v=b,O=(n("e6d0"),Object(f["a"])(v,a,c,!1,null,"5f192d8f",null)),y=O.exports,S=(n("4de4"),n("caad"),n("2532"),n("2909")),x={children:[],value:null,parent:null},w=function(e){e.forEach((function(e){P(e),e.subOutcomes.forEach((function(t){z(t,e)}))}))},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t-e.outcomeBudget,u=[],i=x.children.filter((function(t){return t.value==e}))[0];if(F(i,o,u),n){var s=x.children.filter((function(t){return t.value!=e}));s.forEach((function(e){F(e,-o/(x.children.length-1),u)}))}else u.forEach((function(e){var t=E(e);t.length>0&&t.forEach((function(t){D(t.value,e.value.subOutcomeFunding,!0)}))}))},F=function(e,t,n){var o=_(n,e.children);e.value.outcomeBudget+=t,e.value.key+="1",e.children.forEach((function(u){if(o.includes(u)){var i=o.filter((function(e){return e.parent!==u.parent}));D(u.value,i[0].value.subOutcomeFunding,!0)}else u.value.subOutcomeFunding+=t/(e.children.length-o.length/2),u.value.key+="1",n.push(u)}))},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=j(e);o.forEach((function(e){C(e,t,n)}))},_=function(e,t){var n=[];return e.forEach((function(e){var o=t.filter((function(t){return t.value.title===e.value.title}));o.length>1&&console.error("getMatchingSuboutcomes: Outcome has two identical suboutcomes"),1===o.length&&(n.push.apply(n,Object(S["a"])(o)),n.push(e))})),n},C=function e(t,n){var o,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],s=t,r=n-s.value.subOutcomeFunding;s.value.subOutcomeFunding=n,s.value.key=(null===t||void 0===t||null===(o=t.value)||void 0===o?void 0:o.key)+"1",u?i=B(t,r):(t.parent.value.outcomeBudget+=r,t.parent.value.key+="1"),i.forEach((function(n){var o=j(n.value);if(o.length>1){var u=o.filter((function(e){return e.parent!=t.parent}));u.forEach((function(t){e(t,n.value.subOutcomeFunding,!0)}))}}))},B=function(e,t){var n,o=null===(n=e.parent)||void 0===n?void 0:n.children.filter((function(t){return t!=e})),u=t/o.length;return null===o||void 0===o||o.forEach((function(e){var t=e;t.value.subOutcomeFunding-=u,t.value.key+="1"})),o},P=function(e){var t={value:e,children:[],parent:x};x.children.push(t)},z=function(e,t){var n=j(t);if(n.length>1)console.error("addSuboutcome: More than one parent node found");else if(0!=n.length){var o=n[0],u={children:[],value:e,parent:o};o.children.push(u)}else console.error("addSuboutcome: Parent node not found")},j=function(e){var t=[],n=[],o=function o(u){if(u.value&&u.value.title==(null===e||void 0===e?void 0:e.title)&&n.push(u),void 0==u)return null;u.children.forEach((function(e){t.push(e)}));var i=t.shift();i&&o(i)};return o(x),n},E=function(e){var t=j(e.value);return t=t.filter((function(t){return t.parent.value.title!==e.parent.value.title})),t},A={name:"HelloWorld",components:{BudgetSlider:y},methods:{init:function(){var e=this;this.outcomes=this.outcomes.map((function(t){return t.outcomeBudget=e.budget/e.outcomes.length,t})),w(this.outcomes)},computedOutcome:function(e){this.outcomes[e.index].computedOutcome=e.computedOutcome},computeBudget:function(e){k(this.outcomes[e.index],parseInt(e.newOutcomeFunding),"frozen"==this.freezeSpending)},setAnalysis:function(){var e=this;this.$refs.slider.forEach((function(t){"analysis"==e.showAnalysis?t.setAnalysis(!0):t.setAnalysis(!1)}))},setShowDepartments:function(){var e=this;this.$refs.slider.forEach((function(t){"show_depts"==e.showDepts?t.setShowDepts(!0):t.setShowDepts(!1)}))},adjustSubBudgets:function(e){D(e.adjustedSuboutcome,parseInt(e.newOutcomeFunding),"frozen"==this.freezeSpending)}},computed:{totalSpent:function(){var e=0;return this.outcomes.forEach((function(t){e+=parseFloat(t.outcomeBudget)})),e.toFixed(2)}},data:function(){return{outcomes:[{title:"Reconciliation",computedOutcome:null,verticalScaleValue:.05,horizontalScaleValue:1,outcomeBudget:void 0,key:1,subOutcomes:[{title:"Increase Indigenous Peoples’ participation on government contracts",key:"1",subOutcomeFunding:void 0,parent:"Reconciliation",depts:["Dept of Offense","Dept of Spending","Dept of Rule Setting"]},{title:"Dismantle systemic inequities in the criminal justice system",key:"2",subOutcomeFunding:void 0,parent:"Reconciliation",depts:["Dept of Old","Dept of Collection","Dept of Rule Setting"]},{title:"Increase representation of women, Black and racialized Canadians, persons with disabilities, Indigenous Peoples and LGBTQ2 Canadians in hiring, appointments and leadership development within the Public Service",key:"3",subOutcomeFunding:void 0,parent:"Reconciliation",depts:["Dept of Trends","Dept of Rule Setting"]}]},{title:"Diversity and inclusion",computedOutcome:null,verticalScaleValue:.1,horizontalScaleValue:1,outcomeBudget:void 0,key:2,subOutcomes:[{title:"Increase representation of women, Black and racialized Canadians, persons with disabilities, Indigenous Peoples and LGBTQ2 Canadians in hiring, appointments and leadership development within the Public Service",key:"3",subOutcomeFunding:void 0,parent:"Diversity and inclusion",depts:["Dept of Trends","Dept of Rule Setting"]},{title:"Increase women-owned businesses’ access to the financing and expertise they need to address the disproportionate impact of the COVID-19 economic crisis on women business owners",key:"4",subOutcomeFunding:void 0,parent:"Diversity and inclusion",depts:["Dept of Old","Dept of Collection"]},{title:"Increase gender equality, diversity and inclusion in Canadian companies",key:"7",subOutcomeFunding:void 0,parent:"Diversity and inclusion",depts:["Dept of Old","Dept of Collection","Dept of Departments"]}]},{title:"Climate",computedOutcome:null,verticalScaleValue:.01,horizontalScaleValue:1,outcomeBudget:void 0,key:3,subOutcomes:[{title:"Reduce greenhouse gas emissions from government operations to net-zero",key:"8",subOutcomeFunding:void 0,parent:"Climate",depts:["Dept of Spending","Dept of Old"]},{title:"Eliminate plastic pollution in Canada",key:"5",subOutcomeFunding:void 0,parent:"Climate",depts:["Dept of Rule Setting","Dept of Collection"]},{title:"Transform Canada’s manufacturing, transportation, natural resource and energy sectors to net-zero emissions",key:"6",subOutcomeFunding:void 0,parent:"Climate",depts:["Dept of Spending","Dept of Old"]}]}],budget:100,freezeSpending:"not_frozen",showAnalysis:"no_analysis",showDepts:"hide_depts"}},mounted:function(){this.init()}},N=A,$=(n("8149"),Object(f["a"])(N,s,r,!1,null,"1b5785f8",null)),I=$.exports,V={name:"App",components:{Home:I}},R=V,M=(n("034f"),Object(f["a"])(R,u,i,!1,null,null,null)),T=M.exports,H=n("5f5b");n("f9e3"),n("2dd8");o["default"].config.productionTip=!1,o["default"].use(H["a"]),new o["default"]({render:function(e){return e(T)}}).$mount("#app")},e6d0:function(e,t,n){"use strict";n("7d69")},f111:function(e,t,n){}});
//# sourceMappingURL=app.b4bd1f7e.js.map